3. 结合本周所讲的知识，总结如何设计一个日志分析系统，分析可能遇到问题和解决方法（文字阐述）。 
(1)日志分析
	场景：
	系统中会生成大量的系统日志、应用程序日志、安全日志等等日志，通过对日志的分析可以了解服务器的负载、健
康状况，可以分析客户的分布情况、客户的行为，甚至基于这些分析可以做出预测。
	采集流程
	日志产出 -> 采集（Logstash、Flume、Scribe） -> 存储 -> 分析 -> 存储（数据库、NoSQL） -> 可视化
	开源实时日志分析ELK平台
	Logstash收集日志，并存放到ElasticSearch集群中，Kibana则从ES集群中查询数据生成图表，返回浏览器端数据提取
	解决方案：
	文本分析，日志是文本文件，需要依赖文件IO、字符串操作、正则表达式等技术。
	通过这些技术就能够把日志中需要的数据提取出来。
	这是最常见的日志，nginx、tomcat等WEB Server都会产生这样的日志。

(2)时间窗口分析
	很多数据，都是和时间相关的，都是按照时间顺序产生的。
	产生的数据分析的时候，要按照时间求值
	interval 表示每一次求值的时间间隔
	width 时间窗口宽度，指的一次求值的时间窗口宽度
	运维环境中，日志、监控等产生的数据都是与时间相关的数据，按照时间先后产生并记录下来的数据，所以一般按照时间
	对数据进行分析。
	
(3)生产消费者模型分析：
	场景：
	日志生产者往往会部署好几个程序，日志产生的也很多，而消费者也会有多个程序，去提取日志分析处理。
	数据的生产是,可能会造成短时间数据的“潮涌”，需要缓冲。
	消费者消费能力不一样，有快有慢，消费者可以自己决定消费缓冲区中的数据。
	解决方案：
	解决的办法——队列queue。作用——解耦、缓冲。
	单机可以使用标准库queue模块的类来构建进程内的队列，满足多个线程间的生产消费需要。
	大型系统可以使用第三方消息中间件：RabbitMQ、RocketMQ、Kafka
	
(4)数据分析
	根据需求进行各种分析，如状态码分析、浏览器分析等
	
	
	
	